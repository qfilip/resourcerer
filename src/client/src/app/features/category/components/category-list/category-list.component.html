@let displayed = $displayed();
@let selectedTree = $selectedTree();
<div>
  <input #query (keyup)="onQueryChanged(query.value)" type="text" />
  <ul>
    @for(tree of displayed; track $index) {
      <li (click)="onSelected.emit(tree)" [ngClass]="{'selected': selectedTree?.id === tree.id}"
        class="hoverable clickable">
        <app-category [$category]="tree"></app-category>
      </li>
    }
  </ul>
</div>